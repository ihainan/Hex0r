var BASE64_CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",HEX="0123456789ABCDEF";function splitWithComma(t){return""===t?[]:t.split(/(?<!\\),/)}function splitWithColon(t){return""===t?[]:t.split(/(?<!\\):/)}function markup_hex0rwindow(t){var a,r,e=void 0!==$(t).data("row-width")?parseInt($(t).data("row-width")):16,o=void 0!==$(t).data("word-size")?parseInt($(t).data("word-size")):1,i=void 0!==$(t).data("row-break")?parseInt($(t).data("row-break")):8,h=void 0!==$(t).data("caption")?$(t).data("caption"):"",n=void 0!==$(t).data("highlights")?splitWithComma($(t).data("highlights")):"",l=void 0===$(t).data("trim")||"true"==$(t).data("trim").toString(),d=void 0!==$(t).data("base64")&&"true"==$(t).data("base64").toString(),s=void 0===$(t).data("show-line-nums")||"true"==$(t).data("show-line-nums").toString(),g=void 0!==$(t).data("highlight-on-hover-only")&&"true"==$(t).data("highlight-on-hover-only").toString(),c=t.text();g&&($(t).on("mouseenter",".hex0rwindow_highlight_hover, .hex0rwindow_highlight_hover_visual",function(){var a=$(this).attr("data-bg-color"),r=$(this).attr("data-highlight-range").split(":");highlightRange(parseInt(r[0]),parseInt(r[1]),a,t)}),$(t).on("mouseleave",".hex0rwindow_highlight_hover, .hex0rwindow_highlight_hover_visual",function(){var a=$(this).attr("data-highlight-range").split(":");unhighlightRange(parseInt(a[0]),parseInt(a[1]),t)})),!0==l&&(c=remove_whitespace(c)),a=!0==d?base64ToByteArray(c):new TextEncoder().encode(c);for(var u=[],v=0;v<n.length;v++){var b=splitWithColon(n[v]);u.push([Math.floor(b[0]),Math.floor(b[1]),b[2],b[3].replace(/\\,/g,",").replace(/\\:/g,":")])}t.text(""),t.append("<table></table>");var w=0;function f(a){for(var r=0;r<u.length;r++)a>=u[r][0]&&a<=u[r][1]?($("table tr td:last",t).addClass("hex0rwindow_highlight_hover"),$("table tr td:last",t).attr("data-bg-color",u[r][2]),$("table tr td:last",t).attr("data-highlight-range",u[r][0]+":"+u[r][1]),$("table tr td:last",t).attr("title",u[r][3]),g||$("table tr td:last",t).css("background-color",u[r][2]),m+=1):$("table tr td:last",t).addClass("hex0rwindow_code")}function p(a){for(var r=0;r<u.length;r++)a>=u[r][0]&&a<=u[r][1]&&($("table tr td:last",t).addClass("hex0rwindow_highlight_hover_visual"),$("table tr td:last",t).attr("data-bg-color",u[r][2]),$("table tr td:last",t).attr("data-highlight-range",u[r][0]+":"+u[r][1]),$("table tr td:last",t).attr("title",u[r][3]),g||$("table tr td:last",t).css("background-color",u[r][2]),m+=1)}h&&$("table",t).append("<caption>"+h+"</caption>");for(var x=0,C=0;a.length>0;){r=a.slice(0,e),a=a.slice(e),$("table",t).addClass("hex0rwindow_table"),$("table",t).append("<tr></tr>").addClass("hex0rwindow"),!0==s&&($("table tr:last",t).append("<td>"+dec_to_hex8(w)+" </td>"),$("table tr td:last",t).addClass("hex0rwindow_offset"));for(var m=0,A=0;A<r.length;A+=o){for(var _="",S=0;S<o;S++)_+=dec2_to_hex(r[A+S]);A==i-1?($("table tr:last",t).append("<td>"+_+"&nbsp;&nbsp;&nbsp</td>"),f(w+A)):($("table tr:last",t).append("<td>"+_+"</td>"),f(w+A)),$("table tr td:last",t).attr("number",x),x+=1}r.length<e&&$("table tr td:last",t).attr("colspan",Math.floor((e-r.length)/o)+1);for(var k=0;k<r.length;k++){var B=r[k];B>=32&&B<=126?$("table tr:last",t).append("<td>"+String.fromCharCode(r[k])+"</td>"):$("table tr:last",t).append("<td>.</td>"),0==k?$("table tr td:last",t).addClass("hex0rwindow_visual_first"):$("table tr td:last",t).addClass("hex0rwindow_visual_others"),$("table tr td:last",t).attr("number",C),C+=1,p(w+k)}w+=e}}function dec2_to_hex(t){return t<0&&(t=0),t>255&&(t=255),HEX.charAt(Math.floor(t/16))+HEX.charAt(t%16)}function dec_to_hex8(t){for(var a="",r=3;r>=0;r--)a+=dec2_to_hex(t>>8*r&255);return a}function remove_whitespace(t){return t.replace(/\n/g,"").replace(/\t/g,"").replace(/ /g,"").replace(/\r/g,"")}function base64_decode(t){for(var a="",r=0;r<t.length;r+=4){var e=t.charAt(r+0),o=t.charAt(r+1),i=t.charAt(r+2),h=t.charAt(r+3),n=BASE64_CHARS.indexOf(e),l=BASE64_CHARS.indexOf(o),d=BASE64_CHARS.indexOf(i),s=BASE64_CHARS.indexOf(h);a+=String.fromCharCode(n<<2|l>>4),a+=String.fromCharCode((15&l)<<4|d>>2),a+=String.fromCharCode((3&d)<<6|s)}return a}function base64ToByteArray(t){for(t=t.replace(/[^A-Za-z0-9+/=]/g,"");t.length%4!=0;)t+="=";try{for(var a=atob(t),r=new Uint8Array(a.length),e=0;e<a.length;e++)r[e]=a.charCodeAt(e);return r}catch(o){return console.error("Failed to decode Base64 string:",o),null}}function highlightRange(t,a,r,e){$(e).find(".hex0rwindow_highlight_hover").each(function(){var e=$(this).attr("number");e>=t&&e<=a&&$(this).css("background-color",r)}),$(e).find(".hex0rwindow_highlight_hover_visual").each(function(){var e=$(this).attr("number");e>=t&&e<=a&&$(this).css("background-color",r)})}function unhighlightRange(t,a,r){$(r).find(".hex0rwindow_highlight_hover").each(function(){var r=$(this).attr("number");r>=t&&r<=a&&$(this).css("background-color","")}),$(r).find(".hex0rwindow_highlight_hover_visual").each(function(){var r=$(this).attr("number");r>=t&&r<=a&&$(this).css("background-color","")})}$(document).ready(function(){$("div.hex0rwindow").each(function(t){markup_hex0rwindow($(this),t)})});